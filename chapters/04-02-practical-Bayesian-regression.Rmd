# Bayesian regression in practice {#Chap-04-02-Bayes-regression-practice}

<hr>

TBD


### Using the `brms` package

Instead of hand-coding each Bayesian regression model, we can also use the `brms` package [@brms2017]. The main function of this package is `brm` (short for **B**ayesian **R**egression **M**odel). It behaves very similarly to the `glm` function we saw above.^[Actually, `brm` behaves similarly to the more general `lmer` function from the `lme4` package, which is even more general than `glm`. Both `lmer` and `brm` also cover so-called hierarchical regression models.] Here is an example of the current case study:

```{r, eval = F}
fit_brms_murder <- brm(
  # specify what to explain in terms of what
  #  using the formula syntax
  formula = murder_rate ~ unemployment,
  # which data to use
  data = murder_data
)
```

```{r, echo = F}
# samples computed in models_brms/murder_data.R
fit_brms_murder <- readRDS('models_brms/murder_data.rds')
```


The function `brm` returns a model-fit object, similar to `glm`. We can inspect it to get more information, using the `summary` function:

```{r}
summary(fit_brms_murder)
```

This output tells us about which model we fitted, states some properties of the MCMC sampling routine used to obtain samples from the posterior distribution, and it also gives us information about the posteriors under the heading "Population-Level Effects" we get summary statistics of the set of posterior samples for each regression coefficient, including the mean ("Estimate"), and the 95% inter-quantile range ("l-95%" is the lower bound and "u-95%" is the upper bound).^[Notice that the 95% inter-quantile range is not necessarily the same as the 95% HDI, but for large sample sizes the two will coincide.]

<div class = "exercises">
**Exercise 13.5 [optional]**

By default, `brms` assumes an appropriate prior for coefficients. What do you expect to happen to the estimate of the intercept when using a very strong prior for its value to be around 100?

<div class="collapsibleSolution">
<button class="trigger">Solution</button>
<div class="content">
The estimate will have a value that is bigger than the current one, especially if the number of data points is small.
</div>
</div>
</div>



